@using Microsoft.AspNetCore.Identity
@inject UserManager<AppUser> UserManager
@{
    var userName = User.Identity.Name;
}

@if (!User?.Identity?.IsAuthenticated == true)
{
    <a help data-style="on-hover" hover>Поддержка</a>
    <a login-asynk href="@Url.Action("Login", "Account")" data-style="on-hover" hover>Войти</a>
    <a register-asynk href="@Url.Action("Register", "Account")" data-style="on-hover" hover>Регистрация</a>
    <script defer>
        document.addEventListener('DOMContentLoaded', () => {
            const hasLoginContainer = document.querySelector('.__container.login') !== null;

            const loginLink = document.querySelector('a[login-asynk]');
            const registerLink = document.querySelector('a[register-asynk]');

            if (!loginLink || !registerLink) return;

            if (hasLoginContainer) {
                loginLink.style.display = 'none';
                registerLink.style.display = 'flex';
            } else {
                loginLink.style.display = 'flex';
                registerLink.style.display = 'none';
            }
        });
    </script>
}
else
{
    @* Ник img(профиля) *@
    <span class="welcome">Привет, @userName</span>

    <form asp-action="Logout" asp-controller="Account" method="post" class="logout-form">
        @Html.AntiForgeryToken()

        <button type="submit" class="logout-btn">Выйти</button>
    </form>
    <a asp-action="Profile" asp-controller="Account">Профиль</a>
    @* Уведомления *@
}